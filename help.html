<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Help | DiNaDrawing</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { font-family: 'Poppins', sans-serif; background-color: #fffaf2; color: #222; }
  </style>
</head>
<body class="flex bg-[#fffaf2]">

<!-- SIDEBAR -->
<aside id="sidebar"
class="fixed top-4 left-0 h-[calc(100vh-1rem)] w-64
       bg-[#f4b41a] rounded-tr-3xl
       p-6 shadow
       hidden md:flex md:flex-col md:gap-6">

  <!-- HEADER -->
  <div class="flex items-center gap-2">
    <img src="Assets/dinadrawing-logo.png" alt="Logo" class="w-14">
    <h2 class="text-xl font-bold text-[#222]">DiNaDrawing</h2>
  </div>

  <!-- NAVIGATIONS -->
  <nav>
    <ul class="space-y-5">
      <li><a href="dashboard.html" class="block px-4 py-2 rounded-lg font-medium text-[#222] hover:bg-[#222] hover:text-white transition">Home</a></li>
      <li><a href="myplans.html" class="block px-4 py-2 rounded-lg font-medium text-[#222] hover:bg-[#222] hover:text-white transition">My Plans</a></li>
      <li><a href="help.html" class="block px-4 py-2 rounded-lg font-medium bg-[#222] text-white hover:bg-[#111] transition">Help</a></li>
      <li><a href="settings.html" class="block px-4 py-2 rounded-lg font-medium text-[#222] hover:bg-[#222] hover:text-white transition">Settings</a></li>
    </ul>
  </nav>
</aside>


<!-- MAIN CONTENT -->
  <main class="ml-0 md:ml-64 flex-1 min-h-screen px-12 py-10 overflow-y-auto">
    <div class="w-full">

      <!-- PAGE TITLE-->
      <div class="flex items-center justify-between border-b-2 border-gray-200 pb-4 mb-6">
        <div>
          <h1 class="text-3xl font-bold">Help & FAQs</h1>
          <p class="text-gray-600 text-sm">Having trouble? Let’s sort it out.</p>
        </div>

        <!-- PROFILE -->
        <div class="relative">
          <button id="profileBtn"
            class="flex items-center gap-2 bg-[#f4b41a]/30 border border-[#222] rounded-full px-3 py-1.5 hover:bg-[#f4b41a]/50 transition">
            <img src="Assets/Profile Icon/profile.png" alt="Profile" class="w-8 h-8 rounded-full border-2 border-[#f4b41a]">
            <span class="font-medium text-[#222]">Venice</span>
          </button>

          <!-- PROFILE DROPDOWN -->
          <div id="profileDropdown" class="absolute right-0 mt-2 w-60 bg-white shadow-lg rounded-2xl border border-gray-200 hidden z-50">
            <div class="p-4 border-b border-gray-200 text-center bg-[#fffaf2] rounded-t-2xl">
              <img src="Assets/Profile Icon/profile.png" alt="Profile" class="w-12 h-12 mx-auto rounded-full border-2 border-[#f4b41a] mb-2 shadow">
              <h2 class="text-sm font-semibold text-[#222]">Venice</h2>
            </div>
            <div class="py-2">
              <a href="help.html" class="block px-4 py-2 text-sm hover:bg-gray-50">Help</a>
              <a href="aboutus.html" class="block px-4 py-2 text-sm hover:bg-gray-50">About Us</a>
              <a href="settings.html" class="block px-4 py-2 text-sm hover:bg-gray-50">Settings</a>
              <button id="logoutProfile" class="w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50">Log out</button>
            </div>
          </div>
        </div>
      </div>

      <!-- FAQS CONTENT -->
      <div class="flex flex-col lg:flex-row gap-6">
        <div class="flex-1 space-y-2">

          <!-- FAQ ITEM 1 -->
          <div class="faq-item border border-gray-300 rounded-lg overflow-hidden">
            <button class="faq-question w-full flex justify-between items-center p-4 bg-gray-300 font-medium text-left">
              <span>What is DiNaDrawing?</span>
              <span class="icon transition-transform duration-200">&gt;</span>
            </button>
            <div class="faq-answer hidden p-4 bg-white">
              DiNaDrawing is a collaborative platform that allows users to create events, share ideas, and work together efficiently.
            </div>
          </div>

          <!-- FAQ ITEM 2 -->
          <div class="faq-item border border-gray-300 rounded-lg overflow-hidden">
            <button class="faq-question w-full flex justify-between items-center p-4 bg-gray-300 font-medium text-left">
              <span>How do I create an event?</span>
              <span class="icon transition-transform duration-200">&gt;</span>
            </button>
            <div class="faq-answer hidden p-4 bg-white">
              Go to the Dashboard, click “Create Event”, fill in the required details, and click save to publish it.
            </div>
          </div>

          <!-- FAQ ITEM 3 -->
          <div class="faq-item border border-gray-300 rounded-lg overflow-hidden">
            <button class="faq-question w-full flex justify-between items-center p-4 bg-gray-300 font-medium text-left">
              <span>Can members vote on polls?</span>
              <span class="icon transition-transform duration-200">&gt;</span>
            </button>
            <div class="faq-answer hidden p-4 bg-white">
              Yes! Hosts can create polls, and members can vote. The host can then finalize based on the most voted option.
            </div>
          </div>

          <!-- FAQ ITEM 4 -->
          <div class="faq-item border border-gray-300 rounded-lg overflow-hidden">
            <button class="faq-question w-full flex justify-between items-center p-4 bg-gray-300 font-medium text-left">
              <span>How does the budget splitter work?</span>
              <span class="icon transition-transform duration-200">&gt;</span>
            </button>
            <div class="faq-answer hidden p-4 bg-white">
              Enter each item and its cost. The system calculates the total and lets you split equally or customize per member.
            </div>
          </div>

          <!-- FAQ ITEM 5 -->
          <div class="faq-item border border-gray-300 rounded-lg overflow-hidden">
            <button class="faq-question w-full flex justify-between items-center p-4 bg-gray-300 font-medium text-left">
              <span>Is my data secure?</span>
              <span class="icon transition-transform duration-200">&gt;</span>
            </button>
            <div class="faq-answer hidden p-4 bg-white">
              Yes. We prioritize privacy and use strong security measures to protect your data.
            </div>
          </div>
        </div>

        <!-- CONTACT US & REPORT US -->
        <div class="flex flex-col gap-4 lg:w-[350px]">

          <!-- STILL HAVE QUESTIONS? -->
          <div class="border border-gray-300 bg-gray-300 rounded-lg p-6">
            <h3 class="text-lg font-semibold mb-2">Still Have Questions?</h3>
            <p class="text-base mb-4">Feel free to reach out. We're here to help you with anything you need!</p>
            <div class="flex justify-end">
              <button class="bg-[#f4b41a] text-[#222] font-medium px-4 py-2 rounded-lg hover:bg-[#222] hover:text-white transition duration-200">
                Contact Us
              </button>
            </div>
          </div>
        
          <!-- REPORT A BUG -->
          <div class="border border-gray-300 bg-gray-300 rounded-lg p-6">
            <h3 class="text-lg font-semibold mb-2">Report a Bug</h3>
            <p class="text-base mb-4">Found an issue? Let us know so we can fix it quickly.</p>
            <div class="flex justify-end">
              <button class="bg-[#f4b41a] text-[#222] font-medium px-4 py-2 rounded-lg hover:bg-[#222] hover:text-white transition duration-200">
                Report Issue
              </button>
            </div>
          </div>
        </div>
      </div> 
    </div>
  </main>

  <!-- SCRIPTS -->
  <script>

  // FAQS CONTENT
    const faqItems = document.querySelectorAll('.faq-item');
    faqItems.forEach((item) => {
      const question = item.querySelector('.faq-question');
      const answer = item.querySelector('.faq-answer');
      const icon = item.querySelector('.icon');
      question.addEventListener('click', () => {

        // HIDDEN AFTER ONE FACT
        faqItems.forEach((otherItem) => {
          if (otherItem !== item) {
            otherItem.querySelector('.faq-answer').classList.add('hidden');
            otherItem.querySelector('.icon').style.transform = 'rotate(0deg)';
          }
        });

        // TOGGLE CURRENT ITEM
        const isHidden = answer.classList.contains('hidden');
        if (isHidden) {
          answer.classList.remove('hidden');
          icon.style.transform = 'rotate(90deg)';
        } else {
          answer.classList.add('hidden');
          icon.style.transform = 'rotate(0deg)';
        }
      });
    });

    // PROFILE DROPDOWN
    const profileBtn = document.getElementById('profileBtn');
    const profileDropdown = document.getElementById('profileDropdown');

    profileBtn?.addEventListener('click', (e) => {
      e.stopPropagation();
      profileDropdown?.classList.toggle('hidden');
    });

    document.addEventListener('click', (e) => {
      if (!profileDropdown?.contains(e.target) && !profileBtn?.contains(e.target)) {
        profileDropdown?.classList.add('hidden');
      }
    });
  </script>

<!-- LOGOUT FUNCTION -->
<script type="module">
  import { auth } from './firebase-config.js'; 
  import { signOut } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js";

  document.addEventListener('DOMContentLoaded', function() {
    // support both possible IDs used across pages
    const candidates = [ 'logoutBtn', 'logoutProfile' ];
    const logoutElements = candidates.map(id => document.getElementById(id)).filter(Boolean);

    if (logoutElements.length === 0) {
      console.error('Logout button not found!');
      return;
    }

    function handleLogout() {
      signOut(auth).then(() => {
        console.log('User signed out successfully');
        window.location.href = 'index.html';
      }).catch((error) => {
        console.error('Logout error:', error);
        alert('Logout failed. Please try again.');
      });
    }

    logoutElements.forEach(el => el.addEventListener('click', handleLogout));
  });
</script>
  
</body>
</html>
